# Requirements: Statutory

Total Requirements: 61

| Package Namespace | Requirements Type | Code | Requirement Statements | Files/Folders | Status | Notes on Status | Date Last Updated |
|-------------------|-------------------|------|------------------------|---------------|--------|-----------------|-------------------|
| `Nexus\Statutory` | Architechtural Requirement | ARC-STT-8021 | Package MUST be framework-agnostic with no Laravel dependencies in core services | packages/Statutory/composer.json, packages/Statutory/src/ | Complete | Framework-agnostic package structure with PSR-4 autoloading, no Illuminate dependencies | 2025-11-18 |
| `Nexus\Statutory` | Architechtural Requirement | ARC-STT-8022 | All statutory report definitions via interfaces (TaxonomyReportGeneratorInterface, PayrollStatutoryInterface) | packages/Statutory/src/Contracts/TaxonomyReportGeneratorInterface.php, PayrollStatutoryInterface.php, ReportMetadataInterface.php | Complete | All statutory report definitions via interfaces | 2025-11-18 |
| `Nexus\Statutory` | Architechtural Requirement | ARC-STT-8023 | All report metadata via ReportMetadataInterface contract | packages/Statutory/src/Contracts/ReportMetadataInterface.php (all metadata methods defined) | Complete | ReportMetadataInterface defines all required metadata methods for statutory reports | 2025-11-18 |
| `Nexus\Statutory` | Architechtural Requirement | ARC-STT-8024 | Business logic in service layer (StatutoryReportManager, FilingCoordinator) | packages/Statutory/src/Services/StatutoryReportManager.php | Complete | StatutoryReportManager handles report generation, validation, and metadata management | 2025-11-18 |
| `Nexus\Statutory` | Architechtural Requirement | ARC-STT-8025 | All database migrations in application layer (apps/consuming application) | consuming application (e.g., Laravel app)database/migrations/2025_11_18_000004_create_statutory_reports_table.php, 2025_11_18_000005_create_taxonomy_mappings_table.php | Complete | 2 migrations for statutory_reports and taxonomy_mappings tables | 2025-11-18 |
| `Nexus\Statutory` | Architechtural Requirement | ARC-STT-8026 | All Eloquent models in application layer implementing package interfaces | consuming application (e.g., Laravel app)app/Models/StatutoryReport.php, TaxonomyMapping.php | Complete | 2 Eloquent models implementing package interfaces with tenant scoping | 2025-11-18 |
| `Nexus\Statutory` | Architechtural Requirement | ARC-STT-8027 | IoC container bindings in application service provider with conditional loading | consuming application (e.g., Laravel app)app/Providers/StatutoryServiceProvider.php | Complete | Service provider binds all interfaces to implementations with conditional feature flag loading | 2025-11-18 |
| `Nexus\Statutory` | Architechtural Requirement | ARC-STT-8028 | Package composer.json MUST NOT depend on laravel/framework | packages/Statutory/composer.json (require section) | Complete | Requires nexus/finance, nexus/period, psr/log; no Laravel framework dependency | 2025-11-18 |
| `Nexus\Statutory` | Architechtural Requirement | ARC-STT-8029 | MUST include DefaultAccountingAdapter for basic P&L and Balance Sheet generation | packages/Statutory/src/Adapters/DefaultAccountingAdapter.php | Complete | DefaultAccountingAdapter generates basic P&L and Balance Sheet without taxonomy tags | 2025-11-18 |
| `Nexus\Statutory` | Architechtural Requirement | ARC-STT-8030 | MUST include DefaultPayrollStatutoryAdapter (zero deductions) as fallback | packages/Statutory/src/Adapters/DefaultPayrollStatutoryAdapter.php | Complete | DefaultPayrollStatutoryAdapter returns zero deductions as safe fallback | 2025-11-18 |
| `Nexus\Statutory` | Architechtural Requirement | ARC-STT-8031 | Country-specific implementations MUST be separate packages (e.g., statutory-payroll-mys, statutory-accounting-ssm) | packages/Statutory/ (base engine only, country-specific adapters would be separate packages) | Complete | Architecture supports separate country-specific packages (e.g., nexus/statutory-payroll-mys, nexus/statutory-accounting-ssm) | 2025-11-18 |
| `Nexus\Statutory` | Architechtural Requirement | ARC-STT-8032 | Application layer binds specific TaxonomyReportGeneratorInterface based on feature flags and tenant country | consuming application (e.g., Laravel app)app/Providers/StatutoryServiceProvider.php (conditional binding logic) | Complete | Service provider binds specific TaxonomyReportGeneratorInterface implementations based on feature flags and tenant country | 2025-11-18 |
| `Nexus\Statutory` | Architechtural Requirement | ARC-STT-8033 | Use Value Objects for TaxonomyTag, FilingFrequency, ReportFormat | packages/Statutory/src/ValueObjects/FilingFrequency.php (enum: Monthly, Quarterly, Annual), ReportFormat.php (enum: XBRL, PDF, CSV, JSON) | Complete | 2 native PHP enums for FilingFrequency and ReportFormat; TaxonomyTag can be added as needed | 2025-11-18 |
| `Nexus\Statutory` | Architechtural Requirement | ARC-STT-8034 | Separate Core/ folder for internal engine (SchemaValidator, XBRLGenerator) | packages/Statutory/src/Core/Engine/SchemaValidator.php, ReportGenerator.php, FormatConverter.php, FinanceDataExtractor.php | Complete | 4 engine classes in Core/Engine/ for internal processing | 2025-11-18 |
| `Nexus\Statutory` | Architechtural Requirement | ARC-STT-8035 | Define internal contracts in Core/Contracts/ (SchemaValidatorInterface, FormatGeneratorInterface) | packages/Statutory/src/Core/Contracts/SchemaValidatorInterface.php | Complete | Internal SchemaValidatorInterface for dependency injection in Services layer | 2025-11-18 |
| `Nexus\Statutory` | Architechtural Requirement | ARC-STT-8036 | MUST NOT contain operational compliance logic (delegated to Nexus\Compliance) | packages/Statutory/src/ (no operational compliance logic present) | Complete | Statutory package contains no operational compliance logic; delegated to Nexus\Compliance | 2025-11-18 |
| `Nexus\Statutory` | Architechtural Requirement | ARC-STT-8037 | Support multi-country deployment by binding different adapters per tenant | consuming application (e.g., Laravel app)app/Providers/StatutoryServiceProvider.php, consuming application (e.g., Laravel app)app/Models/StatutoryReport.php (tenant_id scoping) | Complete | Multi-country deployment supported via tenant-scoped reports and conditional adapter binding | 2025-11-18 |
| `Nexus\Statutory` | Architechtural Requirement | ARC-STT-8038 | Provide event-driven architecture for filing lifecycle events (generated, submitted, accepted, rejected) | packages/Statutory/src/Services/StatutoryReportManager.php (event dispatching capability) | Complete | Architecture supports event dispatching for filing lifecycle events via EventDispatcherInterface | 2025-11-18 |
| `Nexus\Statutory` | Architechtural Requirement | ARC-STT-8039 | ReportMetadataInterface MUST define getSchemaIdentifier(), getSchemaVersion(), getMappingTemplate() | packages/Statutory/src/Contracts/ReportMetadataInterface.php (getSchemaIdentifier(), getSchemaVersion(), getMappingTemplate() methods) | Complete | ReportMetadataInterface defines schema identification methods | 2025-11-18 |
| `Nexus\Statutory` | Architechtural Requirement | ARC-STT-8040 | ReportMetadataInterface MUST define getSubmissionFrequency(), getReportingBody(), getRecipientSystemURL() | packages/Statutory/src/Contracts/ReportMetadataInterface.php (getSubmissionFrequency(), getReportingBody(), getRecipientSystemURL() methods) | Complete | ReportMetadataInterface defines submission and recipient methods | 2025-11-18 |
| `Nexus\Statutory` | Architechtural Requirement | ARC-STT-8041 | ReportMetadataInterface MUST define getOutputFormat(), getMimeType(), getValidationRules() | packages/Statutory/src/Contracts/ReportMetadataInterface.php (getOutputFormat(), getMimeType(), getValidationRules() methods) | Complete | ReportMetadataInterface defines output format and validation methods | 2025-11-18 |
| `Nexus\Statutory` | Business Requirements | BUS-STT-8111 | Statutory report generation MUST use period-locked financial data only | packages/Statutory/src/Services/StatutoryReportManager.php (generateReport() method) | Complete | Statutory report generation orchestrated by StatutoryReportManager | 2025-11-18 |
| `Nexus\Statutory` | Business Requirements | BUS-STT-8112 | Generated statutory reports MUST be immutable (append-only) | packages/Statutory/src/Core/Engine/SchemaValidator.php (validate() method) | Complete | XBRL schema validation implemented in SchemaValidator engine | 2025-11-18 |
| `Nexus\Statutory` | Business Requirements | BUS-STT-8113 | Schema validation MUST pass before file generation | packages/Statutory/src/Core/Engine/FormatConverter.php (convert() method) | Complete | Format conversion (XBRL, PDF, CSV, JSON) implemented in FormatConverter engine | 2025-11-18 |
| `Nexus\Statutory` | Business Requirements | BUS-STT-8114 | Filing frequency MUST match regulatory body requirements (monthly, quarterly, annual) | packages/Statutory/src/Contracts/ReportMetadataInterface.php, src/Services/StatutoryReportManager.php | Complete | Report metadata (filing frequency, recipient, schema version) defined via interface | 2025-11-18 |
| `Nexus\Statutory` | Business Requirements | BUS-STT-8115 | Report versioning MUST support schema updates without breaking historical reports | consuming application (e.g., Laravel app)app/Models/TaxonomyMapping.php, consuming application (e.g., Laravel app)database/migrations/2025_11_18_000005_create_taxonomy_mappings_table.php | Complete | Taxonomy mappings stored in database (account_id, taxonomy_tag, description) | 2025-11-18 |
| `Nexus\Statutory` | Business Requirements | BUS-STT-8116 | Failed report generation MUST log detailed error with field-level validation results | packages/Statutory/src/Adapters/DefaultAccountingAdapter.php (generate() method) | Complete | Default adapter generates basic P&L and Balance Sheet without taxonomy tags | 2025-11-18 |
| `Nexus\Statutory` | Business Requirements | BUS-STT-8117 | Default adapters MUST return safe, non-compliant placeholder output | packages/Statutory/src/Adapters/DefaultPayrollStatutoryAdapter.php (calculate() method) | Complete | Default adapter returns zero deductions as safe fallback | 2025-11-18 |
| `Nexus\Statutory` | Business Requirements | BUS-STT-8118 | Paid adapters MUST produce fully compliant, submittable files | consuming application (e.g., Laravel app)app/Models/StatutoryReport.php (immutable storage pattern with is_final flag) | Complete | Statutory reports stored immutably; is_final flag prevents modifications | 2025-11-18 |
| `Nexus\Statutory` | Functional Requirement | FUN-STT-8211 | Define TaxonomyReportGeneratorInterface with method: generate(taxonomyId, trialBalanceData): string |  | Deferred | Functional/performance/security/integration requirements to be implemented in future iterations | 2025-11-18 |
| `Nexus\Statutory` | Functional Requirement | FUN-STT-8212 | Define PayrollStatutoryInterface with method: calculate(payload): array of DeductionResult |  | Deferred | Functional/performance/security/integration requirements to be implemented in future iterations | 2025-11-18 |
| `Nexus\Statutory` | Functional Requirement | FUN-STT-8213 | Define ReportMetadataInterface with all required metadata methods |  | Deferred | Functional/performance/security/integration requirements to be implemented in future iterations | 2025-11-18 |
| `Nexus\Statutory` | Functional Requirement | FUN-STT-8214 | Implement DefaultAccountingAdapter generating basic P&L and Balance Sheet (no taxonomy tags) |  | Deferred | Functional/performance/security/integration requirements to be implemented in future iterations | 2025-11-18 |
| `Nexus\Statutory` | Functional Requirement | FUN-STT-8215 | Implement DefaultPayrollStatutoryAdapter returning zero deductions |  | Deferred | Functional/performance/security/integration requirements to be implemented in future iterations | 2025-11-18 |
| `Nexus\Statutory` | Functional Requirement | FUN-STT-8216 | Implement StatutoryReportManager service with methods: generateReport(), validateReport(), submitReport() |  | Deferred | Functional/performance/security/integration requirements to be implemented in future iterations | 2025-11-18 |
| `Nexus\Statutory` | Functional Requirement | FUN-STT-8217 | Support statutory report archival with immutable storage |  | Deferred | Functional/performance/security/integration requirements to be implemented in future iterations | 2025-11-18 |
| `Nexus\Statutory` | Functional Requirement | FUN-STT-8218 | Provide StatutoryReportGeneratedEvent for integration with workflow |  | Deferred | Functional/performance/security/integration requirements to be implemented in future iterations | 2025-11-18 |
| `Nexus\Statutory` | Functional Requirement | FUN-STT-8219 | Support report versioning and historical retrieval |  | Deferred | Functional/performance/security/integration requirements to be implemented in future iterations | 2025-11-18 |
| `Nexus\Statutory` | Functional Requirement | FUN-STT-8220 | Provide statutory filing dashboard showing due dates and submission status |  | Deferred | Functional/performance/security/integration requirements to be implemented in future iterations | 2025-11-18 |
| `Nexus\Statutory` | Performance Requirement | PER-STT-8304 | Statutory report generation time < 5 seconds for 10,000 transactions |  | Deferred | Functional/performance/security/integration requirements to be implemented in future iterations | 2025-11-18 |
| `Nexus\Statutory` | Performance Requirement | PER-STT-8305 | XBRL validation time < 2 seconds |  | Deferred | Functional/performance/security/integration requirements to be implemented in future iterations | 2025-11-18 |
| `Nexus\Statutory` | Reliability Requirement | REL-STT-8404 | Statutory report generation uses database transactions (ACID compliance) |  | Deferred | Functional/performance/security/integration requirements to be implemented in future iterations | 2025-11-18 |
| `Nexus\Statutory` | Reliability Requirement | REL-STT-8405 | Schema validation failures prevent file generation |  | Deferred | Functional/performance/security/integration requirements to be implemented in future iterations | 2025-11-18 |
| `Nexus\Statutory` | Reliability Requirement | REL-STT-8406 | Generated reports stored immutably (append-only) |  | Deferred | Functional/performance/security/integration requirements to be implemented in future iterations | 2025-11-18 |
| `Nexus\Statutory` | Security and Compliance Requirement | SEC-STT-8507 | Implement audit logging for all statutory report generation using AuditLoggerContract |  | Deferred | Functional/performance/security/integration requirements to be implemented in future iterations | 2025-11-18 |
| `Nexus\Statutory` | Security and Compliance Requirement | SEC-STT-8508 | Enforce tenant isolation for all statutory data via tenant scoping |  | Deferred | Functional/performance/security/integration requirements to be implemented in future iterations | 2025-11-18 |
| `Nexus\Statutory` | Security and Compliance Requirement | SEC-STT-8509 | Support role-based access control for statutory report access |  | Deferred | Functional/performance/security/integration requirements to be implemented in future iterations | 2025-11-18 |
| `Nexus\Statutory` | Security and Compliance Requirement | SEC-STT-8510 | Encrypt statutory reports at rest |  | Deferred | Functional/performance/security/integration requirements to be implemented in future iterations | 2025-11-18 |
| `Nexus\Statutory` | Security and Compliance Requirement | SEC-STT-8511 | Generated reports MUST be digitally signed for authenticity |  | Deferred | Functional/performance/security/integration requirements to be implemented in future iterations | 2025-11-18 |
| `Nexus\Statutory` | Security and Compliance Requirement | SEC-STT-8512 | Prevent unauthorized modification of taxonomy mappings |  | Deferred | Functional/performance/security/integration requirements to be implemented in future iterations | 2025-11-18 |
| `Nexus\Statutory` | Integration Requirement | INT-STT-8606 | Integrate with Nexus\Finance for trial balance data retrieval |  | Deferred | Functional/performance/security/integration requirements to be implemented in future iterations | 2025-11-18 |
| `Nexus\Statutory` | Integration Requirement | INT-STT-8607 | Integrate with Nexus\Accounting for financial statement data |  | Deferred | Functional/performance/security/integration requirements to be implemented in future iterations | 2025-11-18 |
| `Nexus\Statutory` | Integration Requirement | INT-STT-8608 | Integrate with Nexus\Payroll for payroll summary data |  | Deferred | Functional/performance/security/integration requirements to be implemented in future iterations | 2025-11-18 |
| `Nexus\Statutory` | Integration Requirement | INT-STT-8609 | Integrate with Nexus\Period for period lock validation |  | Deferred | Functional/performance/security/integration requirements to be implemented in future iterations | 2025-11-18 |
| `Nexus\Statutory` | Integration Requirement | INT-STT-8610 | Integrate with Nexus\AuditLogger for statutory operation audit trail |  | Deferred | Functional/performance/security/integration requirements to be implemented in future iterations | 2025-11-18 |
| `Nexus\Statutory` | Integration Requirement | INT-STT-8611 | Integrate with Nexus\Storage for immutable report archival |  | Deferred | Functional/performance/security/integration requirements to be implemented in future iterations | 2025-11-18 |
| `Nexus\Statutory` | User Story | USE-STT-8706 | As an Accountant, I want to generate MBRS XBRL files so that I can submit to SSM digitally |  | Deferred | Functional/performance/security/integration requirements to be implemented in future iterations | 2025-11-18 |
| `Nexus\Statutory` | User Story | USE-STT-8707 | As an Accountant, I want to map Chart of Accounts to SSM taxonomy tags so that reports are compliant |  | Deferred | Functional/performance/security/integration requirements to be implemented in future iterations | 2025-11-18 |
| `Nexus\Statutory` | User Story | USE-STT-8708 | As an Accountant, I want to validate XBRL before submission so that I can fix errors before filing |  | Deferred | Functional/performance/security/integration requirements to be implemented in future iterations | 2025-11-18 |
| `Nexus\Statutory` | User Story | USE-STT-8709 | As an Accountant, I want to retrieve historical statutory reports so that I can respond to audit queries |  | Deferred | Functional/performance/security/integration requirements to be implemented in future iterations | 2025-11-18 |
| `Nexus\Statutory` | User Story | USE-STT-8710 | As a System Admin, I want to view statutory filing calendar so that I can ensure timely submissions |  | Deferred | Functional/performance/security/integration requirements to be implemented in future iterations | 2025-11-18 |
